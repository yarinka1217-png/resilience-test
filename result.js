/* ============================
   1. –û—Ç—Ä–∏–º—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–µ—Å—Ç—É
   ============================ */

const data = JSON.parse(localStorage.getItem("resilienceTest")) || {
    stable: 0,
    tension: 0,
    recovering: 0,
    breakthrough: 0
};


/* ============================
   2. –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–∏–ø
   ============================ */

const finalType = Object.keys(data).reduce((a, b) =>
    data[a] > data[b] ? a : b
);


/* ============================
   3. –ü—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
   ============================ */

const results = {
    stable: {
        emoji: "üßò‚Äç‚ôÄÔ∏è",
        title: "–¢–∏ ‚Äî –°—Ç–∞–±—ñ–ª—å–Ω–∞ –û—Å–æ–±–∏—Å—Ç—ñ—Å—Ç—å",
        desc:
            "–¢–≤–æ—è –ø—Å–∏—Ö—ñ–∫–∞ –ø—Ä–∞—Ü—é—î —Ä—ñ–≤–Ω–æ —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ. –ù–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –∑'—è–≤–ª—è—é—Ç—å—Å—è –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω—ñ —Ç—Ä—É–¥–Ω–æ—â—ñ, —Ç–∏ –Ω–µ –≤—Ç—Ä–∞—á–∞—î—à –æ–ø–æ—Ä–∏. –¢–∏ –∑–¥–∞—Ç–Ω–∞ –º–∏—Å–ª–∏—Ç–∏ —Ç–≤–µ—Ä–µ–∑–æ, –ø—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –≤—á–∞—Å–Ω–æ –π –Ω–µ –¥–æ–∑–≤–æ–ª—è—î—à —Ö–∞–æ—Å—É –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—ó–º –∂–∏—Ç—Ç—è–º.",
        extraTitle: "–¢–≤–æ—ó —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏:",
        extraList: [
            "–°–ø–æ–∫—ñ–π —É —Å—Ç—Ä–µ—Å–æ–≤–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö",
            "–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–ª–∞–Ω—É–≤–∞—Ç–∏ –Ω–∞–ø–µ—Ä–µ–¥",
            "–í–º—ñ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –±–∞–ª–∞–Ω—Å",
            "–ó—Ä—ñ–ª–∞ —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞"
        ]
    },

    tension: {
        emoji: "‚ö°",
        title: "–¢–∏ ‚Äî –ù–∞ –ú–µ–∂—ñ –ù–∞–ø—Ä—É–≥–∏",
        desc:
            "–¢–∏ –±–∞–≥–∞—Ç–æ —Ç—è–≥–Ω–µ—à –Ω–∞ —Å–æ–±—ñ —Ç–∞ —Ä–æ–±–∏—à —Ü–µ –º–æ–≤—á–∫–∏. –£—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥—É–∂–µ –±–∞–≥–∞—Ç–æ –Ω–∞–ø—Ä—É–≥–∏, –∞–ª–µ –∑–æ–≤–Ω—ñ —Ç–∏ –≤–∏–≥–ª—è–¥–∞—î—à –∑—ñ–±—Ä–∞–Ω–æ—é. –¶–µ —Å—Ç–∞–Ω, –¥–µ —Ç–∏ –ø—Ä–∞—Ü—é—î—à –Ω–∞ –º–µ–∂—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π, —ñ —Ç–≤–æ—î —Ç—ñ–ª–æ –ø–æ–¥–∞—î —Å–∏–≥–Ω–∞–ª–∏, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–∞—É–∑–∞.",
        extraTitle: "–û–∑–Ω–∞–∫–∏ —Ç–≤–æ–≥–æ —Å—Ç–∞–Ω—É:",
        extraList: [
            "–ï–º–æ—Ü—ñ–π–Ω–µ –≤–∏—Å–Ω–∞–∂–µ–Ω–Ω—è",
            "–ù–∞–¥–º—ñ—Ä–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
            "–ü—ñ–¥—Å–≤—ñ–¥–æ–º–µ –ø—Ä–∏–≥–Ω—ñ—á–µ–Ω–Ω—è –µ–º–æ—Ü—ñ–π",
            "–ë–∞–∂–∞–Ω–Ω—è –≤—Ç–µ–∫—Ç–∏ –∞–±–æ —Ä—ñ–∑–∫–æ –≤—Å–µ –∑–º—ñ–Ω–∏—Ç–∏"
        ]
    },

    recovering: {
        emoji: "üåø",
        title: "–¢–∏ ‚Äî –£ –°—Ç–∞–Ω—ñ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è",
        desc:
            "–¢–∏ –≤–∏—Ö–æ–¥–∏—à —ñ–∑ –≤–∞–∂–∫–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É. –í—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è –Ω–æ–≤–∏–π –ø–æ–≥–ª—è–¥ –Ω–∞ —Å–µ–±–µ –π –∂–∏—Ç—Ç—è. –¶–µ –¥—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –º–æ–º–µ–Ω—Ç, –¥–µ —Ç–∏ –ø–æ—á–∏–Ω–∞—î—à –∑–∞–Ω–æ–≤–æ –∑–±–∏—Ä–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –æ–ø–æ—Ä—É.",
        extraTitle: "–©–æ –∑–∞—Ä–∞–∑ –≤–∞–∂–ª–∏–≤–æ:",
        extraList: [
            "–ú'—è–∫—ñ—Å—Ç—å –¥–æ —Å–µ–±–µ —Ç–∞ —Å–≤–æ–≥–æ —Ç–µ–º–ø—É",
            "–î–æ—Å—Ç–∞—Ç–Ω—å–æ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É",
            "–ß–µ—Å–Ω–∞ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è: —â–æ —è –±—ñ–ª—å—à–µ –Ω–µ —Ö–æ—á—É?",
            "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∑–¥–æ—Ä–æ–≤–∏—Ö –º–µ–∂"
        ]
    },

    breakthrough: {
        emoji: "üî•",
        title: "–¢–∏ ‚Äî –£ –ü–µ—Ä—ñ–æ–¥—ñ –ü—Ä–æ—Ä–∏–≤—É",
        desc:
            "–©–æ—Å—å —É —Ç–≤–æ—î–º—É –∂–∏—Ç—Ç—ñ –≤–∂–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è –∞–±–æ –æ—Å—å-–æ—Å—å –∑–º—ñ–Ω–∏—Ç—å—Å—è. –¢–∏ –≤—ñ–¥—á—É–≤–∞—î—à –ø—Ä–∏–ª–∏–≤ –µ–Ω–µ—Ä–≥—ñ—ó, —Å–º—ñ–ª–∏–≤—ñ—Å—Ç—å, —è—Å–Ω—ñ—Å—Ç—å. –¶–µ –Ω–µ –≤–∏–ø–∞–¥–∫–æ–≤—ñ—Å—Ç—å ‚Äî —Ü–µ –Ω–∞—Å–ª—ñ–¥–æ–∫ —Ç–≤–æ—î—ó –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ä–æ–±–æ—Ç–∏.",
        extraTitle: "–û–∑–Ω–∞–∫–∏ —Ç–≤–æ–≥–æ –ø—Ä–æ—Ä–∏–≤—É:",
        extraList: [
            "–†—ñ–∑–∫–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–æ—ó —è—Å–Ω–æ—Å—Ç—ñ",
            "–ó–¥–∞—Ç–Ω—ñ—Å—Ç—å —à–≤–∏–¥–∫–æ –ø—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è",
            "–°–∏–ª—å–Ω–∏–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —ñ–º–ø—É–ª—å—Å –¥–æ –¥—ñ—ó",
            "–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–±–µ"
        ]
    }
};


/* ============================
   4. –í—Å—Ç–∞–≤–ª—è—î–º–æ –≤ HTML
   ============================ */

document.getElementById("result-badge").textContent = results[finalType].emoji;
document.getElementById("result-title").textContent = results[finalType].title;
document.getElementById("result-desc").textContent = results[finalType].desc;

// –ï–∫—Å—Ç—Ä–∞-–±–ª–æ–∫
const extraBlock = document.getElementById("result-extra");
extraBlock.innerHTML = `
    <h3>${results[finalType].extraTitle}</h3>
    <ul class="result-list">
        ${results[finalType].extraList.map(item => `<li>${item}</li>`).join("")}
    </ul>
`;

/* ============================
   5. –û—á–∏—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
   ============================ */
localStorage.removeItem("resilienceTest");
